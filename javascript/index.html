<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Task Board</title>
</head>

<style>
#header {
    background-color:black;
    color:white;
    text-align:center;
    padding:5px;
}
#nav {
    line-height:30px;
    background-color:#eeeeee;
    text-align:center;
    height:100px;
    width:1290px;
    float:left;
    padding:5px;	      
}
#section {
   background-color:grey;
   text-align:center; 
   height:500px;
   width:500px;
   float:left;	 
}

#section1 {
   background-color:grey;
   text-align:center; 
   height:500px;
   width:500px;	
   float:right; 
}

#section1 {
   background-color:grey;
   text-align:down; 
   height:500px;
   width:500px;	
   float:right; 
}

#main{

   background-color:grey;
   width:1200px;
   margin:auto;
}


</style>

<body>

<div id="header">

<h1> Taskboard </h1>

</div>

<div id="nav">
<br>
   What task do you want to do? <input type="text" name="task" 
   placeholder="enter task here" id="myData" value="">
   
   <input type="button" value="Add" onclick="addTable('todoTable')" >
  
   
   </div>
   
   <div id="section">
   <h1> To-Do Board</h1>
  <TABLE id="todoTable" width="150px">
       
    </TABLE>
   </div>
     
   
   
   <div id="section1">
        <h1> Complete Board</h1>
        <TABLE id="completeTable" width="150px"></TABLE>
        </div>
        
      
        <script>
        
        function addTable(tableID){
        	var table = document.getElementById("todoTable");
        	
        	var row=document.createElement("tr");
            var column1=document.createElement("td");
        	var column2=document.createElement("td");
        	var column3=document.createElement("td");
        	
        	column1.innerHTML=document.getElementById("myData").value;
        	column2.innerHTML='<input type="button" value="&#x2713" onclick="movetoComplete(this)">';
        	column3.innerHTML='<input type="button" value="&#x2717" onclick="deleteRow(this)">';
        	                     
     var data1=document.getElementById("myData").value;
// alert(data1);
            
            row.appendChild(column1);
            row.appendChild(column2);
            row.appendChild(column3);
            table.appendChild(row);
            
            
            addDataToLocalStorage(column1);
 
        }
        
        function deleteRow(obj){
        	
        	var index = obj.parentNode.parentNode.rowIndex;
            var table = document.getElementById("todoTable");
            table.deleteRow(index);
        }
        
        
 function deleteRowComplete(obj){
        	
	        var index = obj.parentNode.parentNode.rowIndex;
            var table = document.getElementById("completeTable");
            table.deleteRow(index);
        }
        
        
        
        function movetoComplete(obj){
        	
        	var index = obj.parentNode.previousSibling.childNodes[0].nodeValue;
        	// var index = obj.currentTarget.previousSibling;
            //var text = (document.getElementById("todoTable").rows[index]).cells[0].innerHTML;
            
            var table = document.getElementById("completeTable");
        	var row=document.createElement("tr");
            var column1=document.createElement("td");
        	var column2=document.createElement("td");
        	
        	
        	column1.innerHTML=index;
        	column2.innerHTML='<input type="button" value="&#x2717" onclick="deleteRowComplete(this)">';
        	
        	row.appendChild(column1);
            row.appendChild(column2);
            table.appendChild(row);
            
            addDataToLocalStorage(column1);
        }
        
        
        function addDataToLocalStorage(data){
        	
        	var dataHistory=localStorage.getItem("history");
        	inputData=data.innerHTML +",";
			if(dataHistory==null){
				dataHistory="";
				localStorage.setItem("history",inputData);
			}

			else{
				var inputData=dataHistory+inputData;
				localStorage.setItem('history',inputData);

			}
        }
        
        function addHistory(tableID){
        	
        	var dataHistory=localStorage.getItem("history");
    		if(dataHistory==null){
    			var tableHistory=document.getElementById("historyTable");
    			var row=document.createElement('tr');
    			var col1=document.createElement('td');
    			col1.innerHTML="No Items in History to display";
    			row.appendChild(column1);
    			tableHistory.appendChild(row);
    		}

    		else{
    			var tableHistory=document.getElementById("historyTable");
    			var array_his=dataHistory.split(",");
    			var length_his=array_his.length;
    			for(var i=0;i<length_his-1;i++){
    				var row=document.createElement('tr');
    				var col=document.createElement('td');
    				col.innerHTML=array_his[i];
    				row.appendChild(col);
    				tableHistory.appendChild(row);
    			}

    		
        }
        	
        }
        
        </script>
        
   </body>
</html>